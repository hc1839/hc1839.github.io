<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: Texbibxml::InputStream::Token
  
    &mdash; Documentation by YARD 0.9.34
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Texbibxml::InputStream::Token";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (T)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Texbibxml.html" title="Texbibxml (module)">Texbibxml</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../InputStream.html" title="Texbibxml::InputStream (module)">InputStream</a></span></span>
     &raquo; 
    <span class="title">Token</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: Texbibxml::InputStream::Token
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  
  <dl>
    <dt>Included in:</dt>
    <dd><span class='object_link'><a href="../Tex/Bib/Author/TokenStream.html" title="Texbibxml::Tex::Bib::Author::TokenStream (class)">Tex::Bib::Author::TokenStream</a></span>, <span class='object_link'><a href="../Tex/Bib/TokenStream.html" title="Texbibxml::Tex::Bib::TokenStream (class)">Tex::Bib::TokenStream</a></span>, <span class='object_link'><a href="../Tex/TokenStream.html" title="Texbibxml::Tex::TokenStream (class)">Tex::TokenStream</a></span></dd>
  </dl>
  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/texbibxml/input_stream/token.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Token stream.</p>


  </div>
</div>
<div class="tags">
  

</div>



  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="protected ">
  <span class="summary_signature">
    
      <a href="#input-instance_method" title="#input (instance method)">#<strong>input</strong>  &#x21d2; Character </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Character stream.</p>
</div></span>
  
</li>

    
      <li class="protected ">
  <span class="summary_signature">
    
      <a href="#unshifted_tokens-instance_method" title="#unshifted_tokens (instance method)">#<strong>unshifted_tokens</strong>  &#x21d2; Array </a>
    

    
  </span>
  
  
  
    
    
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Array of tokens that have been pushed back or empty array if there are none.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#command%3F-instance_method" title="#command? (instance method)">#<strong>command?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Whether the next character is the start of a command.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#croak-instance_method" title="#croak (instance method)">#<strong>croak</strong>(message)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Raise <code>RuntimeError</code> with the given message and the current position in the character stream.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#eof%3F-instance_method" title="#eof? (instance method)">#<strong>eof?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Whether the stream is at the end.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get!-instance_method" title="#get! (instance method)">#<strong>get!</strong>(type: nil)  &#x21d2; Hash </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Get the next token with advancing the stream.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#match%3F-instance_method" title="#match? (instance method)">#<strong>match?</strong>(type:, value: nil)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Whether the next token matches the given type and optionally the value.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#peek-instance_method" title="#peek (instance method)">#<strong>peek</strong>  &#x21d2; Hash </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Get the next token without advancing the stream.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#read_bracket!-instance_method" title="#read_bracket! (instance method)">#<strong>read_bracket!</strong>  &#x21d2; Hash </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Read the bracket character, and advance the stream past it.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#read_bracketed_string!-instance_method" title="#read_bracketed_string! (instance method)">#<strong>read_bracketed_string!</strong>(right_bracket)  &#x21d2; Hash </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Read the bracketed string, and advance the stream past it.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#read_command!-instance_method" title="#read_command! (instance method)">#<strong>read_command!</strong>  &#x21d2; Hash </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Read the command, and advance the stream past it.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#read_delimited_string!-instance_method" title="#read_delimited_string! (instance method)">#<strong>read_delimited_string!</strong>(right_delimiter)  &#x21d2; Hash </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Read the delimited string, and advance the stream past it.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#read_next!-instance_method" title="#read_next! (instance method)">#<strong>read_next!</strong>  &#x21d2; Hash </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  <span class="abstract note title">abstract</span>
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Read the next token, and advance the stream past it.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#read_whitespace!-instance_method" title="#read_whitespace! (instance method)">#<strong>read_whitespace!</strong>  &#x21d2; Hash </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Read the consecutive whitespaces, and advance the stream past it.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#skip!-instance_method" title="#skip! (instance method)">#<strong>skip!</strong>(type:, value:)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Skip the next token if it matches the given type and value, otherwise call <span class='object_link'><a href="#croak-instance_method" title="Texbibxml::InputStream::Token#croak (method)">#croak</a></span>.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#skip_whitespace!-instance_method" title="#skip_whitespace! (instance method)">#<strong>skip_whitespace!</strong>  &#x21d2; void </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Skip the next consecutive whitespaces.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unget!-instance_method" title="#unget! (instance method)">#<strong>unget!</strong>(token)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Push back the given token onto the streamâ€™s buffer.</p>
</div></span>
  
</li>

      
    </ul>
  


  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="input-instance_method">
  
    #<strong>input</strong>  &#x21d2; <tt><span class='object_link'><a href="Character.html" title="Texbibxml::InputStream::Character (class)">Character</a></span></tt>  <span class="extras">(readonly, protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns Character stream.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Character.html" title="Texbibxml::InputStream::Character (class)">Character</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Character stream.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


119
120
121</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/texbibxml/input_stream/token.rb', line 119</span>

<span class='kw'>def</span> <span class='id identifier rubyid_input'>input</span>
  <span class='ivar'>@input</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="unshifted_tokens=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="unshifted_tokens-instance_method">
  
    #<strong>unshifted_tokens</strong>  &#x21d2; <tt>Array</tt>  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns Array of tokens that have been pushed back or empty array if there are none.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Array of tokens that have been pushed back or empty array if there are none.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


124
125
126</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/texbibxml/input_stream/token.rb', line 124</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unshifted_tokens'>unshifted_tokens</span>
  <span class='ivar'>@unshifted_tokens</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="command?-instance_method">
  
    #<strong>command?</strong>  &#x21d2; <tt>Boolean</tt>  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Whether the next character is the start of a command.</p>

<p>Command starts with a backslash except <code>\{</code> and <code>\}</code>.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p><code>true</code> if the next character is the start of a command, otherwise <code>false</code>.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


248
249
250</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/texbibxml/input_stream/token.rb', line 248</span>

<span class='kw'>def</span> <span class='id identifier rubyid_command?'>command?</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_peek'>peek</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='qwords_beg'>%w[</span><span class='tstring_content'>{</span><span class='words_sep'> </span><span class='tstring_content'>}</span><span class='tstring_end'>]</span></span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_peek_escaped'>peek_escaped</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="croak-instance_method">
  
    #<strong>croak</strong>(message)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Raise <code>RuntimeError</code> with the given message and the current position in the character stream.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>message</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Exception message.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


111
112
113</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/texbibxml/input_stream/token.rb', line 111</span>

<span class='kw'>def</span> <span class='id identifier rubyid_croak'>croak</span><span class='lparen'>(</span><span class='id identifier rubyid_message'>message</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_croak'>croak</span><span class='lparen'>(</span><span class='id identifier rubyid_message'>message</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="eof?-instance_method">
  
    #<strong>eof?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Whether the stream is at the end.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p><code>true</code> if the stream is at the end, otherwise <code>false</code>.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/texbibxml/input_stream/token.rb', line 12</span>

<span class='kw'>def</span> <span class='id identifier rubyid_eof?'>eof?</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_peek'>peek</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get!-instance_method">
  
    #<strong>get!</strong>(type: nil)  &#x21d2; <tt>Hash</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Get the next token with advancing the stream.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>type</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Type of token to match and call <span class='object_link'><a href="#croak-instance_method" title="Texbibxml::InputStream::Token#croak (method)">#croak</a></span> if it does not match. <code>nil</code> (default) if matching is not needed.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Next token in the stream or empty hash if at the end of stream.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


24
25
26
27
28
29
30
31
32
33</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/texbibxml/input_stream/token.rb', line 24</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get!'>get!</span><span class='lparen'>(</span><span class='label'>type:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_retval'>retval</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_unshifted_tokens'>unshifted_tokens</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span> <span class='op'>||</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_read_next!'>read_next!</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_retval'>retval</span><span class='lbracket'>[</span><span class='symbol'>:type</span><span class='rbracket'>]</span> <span class='op'>!=</span> <span class='id identifier rubyid_type'>type</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_croak'>croak</span><span class='lparen'>(</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Type of token does not match: </span><span class='tstring_end'>&quot;</span></span>\
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>should be &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; but got &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_retval'>retval</span><span class='lbracket'>[</span><span class='symbol'>:type</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;.</span><span class='tstring_end'>&quot;</span></span>
    <span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_retval'>retval</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="match?-instance_method">
  
    #<strong>match?</strong>(type:, value: nil)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Whether the next token matches the given type and optionally the value.</p>

<p>If the stream is at the end, <span class='object_link'><a href="#croak-instance_method" title="Texbibxml::InputStream::Token#croak (method)">#croak</a></span> is called.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>type</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Type of token to match.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Value of token to match or <code>nil</code> (default) if matching is not needed.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p><code>true</code> if the next token matches, otherwise <code>false</code>.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


92
93
94
95
96
97
98
99
100
101
102</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/texbibxml/input_stream/token.rb', line 92</span>

<span class='kw'>def</span> <span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='label'>type:</span><span class='comma'>,</span> <span class='label'>value:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_eof?'>eof?</span>
  <span class='id identifier rubyid_token'>token</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_peek'>peek</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_token'>token</span><span class='lbracket'>[</span><span class='symbol'>:type</span><span class='rbracket'>]</span> <span class='op'>!=</span> <span class='id identifier rubyid_type'>type</span>
    <span class='kw'>false</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_token'>token</span><span class='lbracket'>[</span><span class='symbol'>:value</span><span class='rbracket'>]</span> <span class='op'>!=</span> <span class='id identifier rubyid_value'>value</span>
    <span class='kw'>false</span>
  <span class='kw'>else</span>
    <span class='kw'>true</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="peek-instance_method">
  
    #<strong>peek</strong>  &#x21d2; <tt>Hash</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Get the next token without advancing the stream.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Next token in the stream or empty hash if at the end of stream.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


75
76
77
78</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/texbibxml/input_stream/token.rb', line 75</span>

<span class='kw'>def</span> <span class='id identifier rubyid_peek'>peek</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_unshifted_tokens'>unshifted_tokens</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_read_next!'>read_next!</span> <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_unshifted_tokens'>unshifted_tokens</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_unshifted_tokens'>unshifted_tokens</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span> <span class='kw'>or</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="read_bracket!-instance_method">
  
    #<strong>read_bracket!</strong>  &#x21d2; <tt>Hash</tt>  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Read the bracket character, and advance the stream past it.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Token as a hash with <code>:type</code> and <code>:value</code> keys. <code>:type</code> has the string value <code>bracket</code>, and <code>:value</code> is the bracket character.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


152
153
154
155
156
157</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/texbibxml/input_stream/token.rb', line 152</span>

<span class='kw'>def</span> <span class='id identifier rubyid_read_bracket!'>read_bracket!</span>
  <span class='kw'>unless</span> <span class='const'><span class='object_link'><a href="../BracketMatching.html" title="Texbibxml::BracketMatching (module)">BracketMatching</a></span></span><span class='period'>.</span><span class='id identifier rubyid_bracket?'><span class='object_link'><a href="../BracketMatching.html#bracket%3F-class_method" title="Texbibxml::BracketMatching.bracket? (method)">bracket?</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_peek'>peek</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_croak'>croak</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Not a bracket character.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='lbrace'>{</span> <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bracket</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>value:</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_get!'>get!</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="read_bracketed_string!-instance_method">
  
    #<strong>read_bracketed_string!</strong>(right_bracket)  &#x21d2; <tt>Hash</tt>  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Read the bracketed string, and advance the stream past it.</p>

<p>String to read begins on the character after the given left bracket. Any character preceded by a backslash is ignored when searching for the right bracket.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>right_bracket</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Right bracket.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Token as a hash with <code>:type</code> and <code>:value</code> keys. <code>:type</code> has the string value <code>string</code>, and <code>:value</code> is the string without the right bracket.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/texbibxml/input_stream/token.rb', line 209</span>

<span class='kw'>def</span> <span class='id identifier rubyid_read_bracketed_string!'>read_bracketed_string!</span><span class='lparen'>(</span><span class='id identifier rubyid_right_bracket'>right_bracket</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='const'><span class='object_link'><a href="../BracketMatching.html" title="Texbibxml::BracketMatching (module)">BracketMatching</a></span></span><span class='period'>.</span><span class='id identifier rubyid_right_bracket?'><span class='object_link'><a href="../BracketMatching.html#right_bracket%3F-class_method" title="Texbibxml::BracketMatching.right_bracket? (method)">right_bracket?</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_right_bracket'>right_bracket</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_croak'>croak</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Not a right bracket: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_right_bracket'>right_bracket</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_left_bracket'>left_bracket</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../BracketMatching.html" title="Texbibxml::BracketMatching (module)">BracketMatching</a></span></span><span class='period'>.</span><span class='id identifier rubyid_left_bracket_of'><span class='object_link'><a href="../BracketMatching.html#left_bracket_of-class_method" title="Texbibxml::BracketMatching.left_bracket_of (method)">left_bracket_of</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_right_bracket'>right_bracket</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_bracket_matcher'>bracket_matcher</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../BracketMatching.html" title="Texbibxml::BracketMatching (module)">BracketMatching</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../BracketMatching/Matcher.html" title="Texbibxml::BracketMatching::Matcher (class)">Matcher</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../BracketMatching/Matcher.html#initialize-instance_method" title="Texbibxml::BracketMatching::Matcher#initialize (method)">new</a></span></span>
  <span class='id identifier rubyid_bracket_matcher'>bracket_matcher</span><span class='period'>.</span><span class='id identifier rubyid_update!'>update!</span><span class='lparen'>(</span><span class='id identifier rubyid_left_bracket'>left_bracket</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_is_backslashed'>is_backslashed</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_get_while!'>get_while!</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_character'>character</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_is_backslashed'>is_backslashed</span>
        <span class='id identifier rubyid_is_backslashed'>is_backslashed</span> <span class='op'>=</span> <span class='kw'>false</span>
        <span class='kw'>next</span> <span class='kw'>true</span>
      <span class='kw'>end</span>
      <span class='kw'>case</span> <span class='id identifier rubyid_character'>character</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_is_backslashed'>is_backslashed</span> <span class='op'>=</span> <span class='kw'>true</span>
        <span class='kw'>true</span>
      <span class='kw'>when</span> <span class='id identifier rubyid_left_bracket'>left_bracket</span><span class='comma'>,</span> <span class='id identifier rubyid_right_bracket'>right_bracket</span>
        <span class='kw'>begin</span>
          <span class='id identifier rubyid_bracket_matcher'>bracket_matcher</span><span class='period'>.</span><span class='id identifier rubyid_update!'>update!</span><span class='lparen'>(</span><span class='id identifier rubyid_character'>character</span><span class='rparen'>)</span>
        <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_croak'>croak</span><span class='lparen'>(</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_bracket_matcher'>bracket_matcher</span><span class='period'>.</span><span class='id identifier rubyid_level'>level</span> <span class='op'>!=</span> <span class='int'>0</span>
      <span class='kw'>else</span>
        <span class='kw'>true</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='lbrace'>{</span> <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>value:</span> <span class='id identifier rubyid_value'>value</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="read_command!-instance_method">
  
    #<strong>read_command!</strong>  &#x21d2; <tt>Hash</tt>  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Read the command, and advance the stream past it.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Token as a hash with <code>:type</code> and <code>:value</code> keys. <code>:type</code> has the string value <code>command</code>, and <code>:value</code> is the command with the leading backslash.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/texbibxml/input_stream/token.rb', line 258</span>

<span class='kw'>def</span> <span class='id identifier rubyid_read_command!'>read_command!</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_croak'>croak</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Not the start of a command.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_command?'>command?</span>
  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_get!'>get!</span>
  <span class='id identifier rubyid_value'>value</span> <span class='op'>+=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_get_while!'>get_while!</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_character'>character</span><span class='op'>|</span>
    <span class='op'>!</span><span class='const'><span class='object_link'><a href="../BracketMatching.html" title="Texbibxml::BracketMatching (module)">BracketMatching</a></span></span><span class='period'>.</span><span class='id identifier rubyid_bracket?'><span class='object_link'><a href="../BracketMatching.html#bracket%3F-class_method" title="Texbibxml::BracketMatching.bracket? (method)">bracket?</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_character'>character</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span>
      <span class='op'>!</span><span class='id identifier rubyid_character'>character</span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^(\s|\\)$</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_value'>value</span> <span class='op'>+=</span>
    <span class='kw'>if</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>{</span><span class='words_sep'> </span><span class='tstring_content'>}</span><span class='tstring_end'>]</span></span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_peek'>peek</span><span class='rparen'>)</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>elsif</span> <span class='const'><span class='object_link'><a href="../BracketMatching.html" title="Texbibxml::BracketMatching (module)">BracketMatching</a></span></span><span class='period'>.</span><span class='id identifier rubyid_bracket?'><span class='object_link'><a href="../BracketMatching.html#bracket%3F-class_method" title="Texbibxml::BracketMatching.bracket? (method)">bracket?</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_peek'>peek</span><span class='rparen'>)</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_get!'>get!</span>
    <span class='kw'>elsif</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_peek'>peek</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_command?'>command?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_get!'>get!</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_get!'>get!</span>
    <span class='kw'>else</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='lbrace'>{</span> <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>command</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>value:</span> <span class='id identifier rubyid_value'>value</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="read_delimited_string!-instance_method">
  
    #<strong>read_delimited_string!</strong>(right_delimiter)  &#x21d2; <tt>Hash</tt>  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Read the delimited string, and advance the stream past it.</p>

<p>String to read begins on the character after the corresponding left delimiter. Any character preceded by a backslash is ignored when searching for the right delimiter.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>right_delimiter</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Right delimiter.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Token as a hash with <code>:type</code> and <code>:value</code> keys. <code>:type</code> has the string value <code>string</code>, and <code>:value</code> is the string without the right delimiter.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/texbibxml/input_stream/token.rb', line 172</span>

<span class='kw'>def</span> <span class='id identifier rubyid_read_delimited_string!'>read_delimited_string!</span><span class='lparen'>(</span><span class='id identifier rubyid_right_delimiter'>right_delimiter</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_is_backslashed'>is_backslashed</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_get_while!'>get_while!</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_character'>character</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_is_backslashed'>is_backslashed</span>
        <span class='id identifier rubyid_is_backslashed'>is_backslashed</span> <span class='op'>=</span> <span class='kw'>false</span>
        <span class='kw'>next</span> <span class='kw'>true</span>
      <span class='kw'>end</span>
      <span class='kw'>case</span> <span class='id identifier rubyid_character'>character</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_is_backslashed'>is_backslashed</span> <span class='op'>=</span> <span class='kw'>true</span>
        <span class='kw'>true</span>
      <span class='kw'>when</span> <span class='id identifier rubyid_right_delimiter'>right_delimiter</span>
        <span class='kw'>false</span>
      <span class='kw'>else</span>
        <span class='kw'>true</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>unless</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_peek'>peek</span> <span class='op'>==</span> <span class='id identifier rubyid_right_delimiter'>right_delimiter</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_croak'>croak</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cannot find right delimiter: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_right_delimiter'>right_delimiter</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='lbrace'>{</span> <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>value:</span> <span class='id identifier rubyid_value'>value</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="read_next!-instance_method">
  
    #<strong>read_next!</strong>  &#x21d2; <tt>Hash</tt>  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <div class="note abstract">
  <strong>This method is abstract.</strong>
  <div class='inline'></div>
</div>

<p>Read the next token, and advance the stream past it.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Next token in the stream or empty hash if at the end of stream.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>RuntimeError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


285
286
287
288
289</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/texbibxml/input_stream/token.rb', line 285</span>

<span class='kw'>def</span> <span class='id identifier rubyid_read_next!'>read_next!</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>RuntimeError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>InputStream::Token#read_next! is not implemented.</span><span class='tstring_end'>&quot;</span></span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="read_whitespace!-instance_method">
  
    #<strong>read_whitespace!</strong>  &#x21d2; <tt>Hash</tt>  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Read the consecutive whitespaces, and advance the stream past it.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Token as a hash with <code>:type</code> and <code>:value</code> keys. <code>:type</code> has the string value <code>whitespace</code>, and <code>:value</code> is the consecutive whitespaces.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


141
142
143
144
145</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/texbibxml/input_stream/token.rb', line 141</span>

<span class='kw'>def</span> <span class='id identifier rubyid_read_whitespace!'>read_whitespace!</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_croak'>croak</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Not a whitespace.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_peek'>peek</span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\s$</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_get_while!'>get_while!</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_character'>character</span><span class='op'>|</span> <span class='id identifier rubyid_character'>character</span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\s$</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='lbrace'>{</span> <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>whitespace</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>value:</span> <span class='id identifier rubyid_value'>value</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="skip!-instance_method">
  
    #<strong>skip!</strong>(type:, value:)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Skip the next token if it matches the given type and value, otherwise call <span class='object_link'><a href="#croak-instance_method" title="Texbibxml::InputStream::Token#croak (method)">#croak</a></span>.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>type</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Type of token to match.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Value of token to match.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


45
46
47
48
49
50
51
52
53
54
55
56
57
58
59</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/texbibxml/input_stream/token.rb', line 45</span>

<span class='kw'>def</span> <span class='id identifier rubyid_skip!'>skip!</span><span class='lparen'>(</span><span class='label'>type:</span><span class='comma'>,</span> <span class='label'>value:</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_token'>token</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get!'>get!</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_token'>token</span><span class='lbracket'>[</span><span class='symbol'>:type</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_type'>type</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_croak'>croak</span><span class='lparen'>(</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Type of token does not match: </span><span class='tstring_end'>&quot;</span></span>\
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>should be &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; but got &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_token'>token</span><span class='lbracket'>[</span><span class='symbol'>:type</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;.</span><span class='tstring_end'>&quot;</span></span>
    <span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_token'>token</span><span class='lbracket'>[</span><span class='symbol'>:value</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_value'>value</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_croak'>croak</span><span class='lparen'>(</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Value of token does not match: </span><span class='tstring_end'>&quot;</span></span>\
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>should be &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'>value</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; but got &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_token'>token</span><span class='lbracket'>[</span><span class='symbol'>:value</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;.</span><span class='tstring_end'>&quot;</span></span>
    <span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="skip_whitespace!-instance_method">
  
    #<strong>skip_whitespace!</strong>  &#x21d2; <tt>void</tt>  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Skip the next consecutive whitespaces.</p>

<p>Nothing is done if the next character is not a whitespace.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


131
132
133</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/texbibxml/input_stream/token.rb', line 131</span>

<span class='kw'>def</span> <span class='id identifier rubyid_skip_whitespace!'>skip_whitespace!</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_get_while!'>get_while!</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_character'>character</span><span class='op'>|</span> <span class='id identifier rubyid_character'>character</span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\s$</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unget!-instance_method">
  
    #<strong>unget!</strong>(token)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Push back the given token onto the streamâ€™s buffer.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>token</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Token to push back.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


67
68
69</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/texbibxml/input_stream/token.rb', line 67</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unget!'>unget!</span><span class='lparen'>(</span><span class='id identifier rubyid_token'>token</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_unshifted_tokens'>unshifted_tokens</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_token'>token</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.34.
</div>

    </div>
  </body>
</html>